const n=JSON.parse('{"key":"v-0dd3c7f2","path":"/posts/frontend/%E5%9C%B0%E5%9B%BE%E9%9D%A2%E7%A7%AF%E8%AE%A1%E7%AE%97.html","title":"地图面积计算","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2023-10-31T00:00:00.000Z","category":["FE"],"tag":["AMap","Javascript","命令模式"],"description":"地图面积计算 基于高德地图，根据用户选点（鼠标移动）创建标注点，满足至少三个标注点时可以形成多边形并计算其面积，采用命令模式实现撤销功能。 功能 创建标注点 创建标注点之间的连线 计算面积 撤销及清除重绘 绘制多边形实体类代码 // 画多边形区域类 class DrawPolygon { ... constructor(map, id) {} // 获取实例数据 getData() {} // 判断当前的标注点能否组成图形 isCanSetPolygon() {} // 获取第一个标注点 getFirstMarker() {} // 鼠标点击时生成标注点 addMarker(lngLat) {} // 满足两个点时生成折线 addLine(last, current, lineStyle = \\"solid\\") {} // 删除连线 removeLine() {} // 判断能否形成多边形 canCalcArea() {} // 生成多边形并计算面积 addPolygon() {} }","head":[["meta",{"property":"og:url","content":"https://localhost/posts/frontend/%E5%9C%B0%E5%9B%BE%E9%9D%A2%E7%A7%AF%E8%AE%A1%E7%AE%97.html"}],["meta",{"property":"og:site_name","content":"前端攻城喵"}],["meta",{"property":"og:title","content":"地图面积计算"}],["meta",{"property":"og:description","content":"地图面积计算 基于高德地图，根据用户选点（鼠标移动）创建标注点，满足至少三个标注点时可以形成多边形并计算其面积，采用命令模式实现撤销功能。 功能 创建标注点 创建标注点之间的连线 计算面积 撤销及清除重绘 绘制多边形实体类代码 // 画多边形区域类 class DrawPolygon { ... constructor(map, id) {} // 获取实例数据 getData() {} // 判断当前的标注点能否组成图形 isCanSetPolygon() {} // 获取第一个标注点 getFirstMarker() {} // 鼠标点击时生成标注点 addMarker(lngLat) {} // 满足两个点时生成折线 addLine(last, current, lineStyle = \\"solid\\") {} // 删除连线 removeLine() {} // 判断能否形成多边形 canCalcArea() {} // 生成多边形并计算面积 addPolygon() {} }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-31T08:30:17.000Z"}],["meta",{"property":"article:author","content":"前端攻城喵"}],["meta",{"property":"article:tag","content":"AMap"}],["meta",{"property":"article:tag","content":"Javascript"}],["meta",{"property":"article:tag","content":"命令模式"}],["meta",{"property":"article:published_time","content":"2023-10-31T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-31T08:30:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"地图面积计算\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-10-31T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-31T08:30:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"前端攻城喵\\",\\"url\\":\\"\\"}]}"]]},"headers":[{"level":2,"title":"功能","slug":"功能","link":"#功能","children":[]},{"level":2,"title":"绘制多边形实体类代码","slug":"绘制多边形实体类代码","link":"#绘制多边形实体类代码","children":[]},{"level":2,"title":"效果展示","slug":"效果展示","link":"#效果展示","children":[]}],"git":{"createdTime":1698737300000,"updatedTime":1698741017000,"contributors":[{"name":"Feng","email":"caicf@edensoft.com.cn","commits":2}]},"readingTime":{"minutes":0.82,"words":246},"filePathRelative":"posts/frontend/地图面积计算.md","localizedDate":"2023年10月31日","excerpt":"<h1> 地图面积计算</h1>\\n<p>基于高德地图，根据用户选点（鼠标移动）创建标注点，满足至少三个标注点时可以形成多边形并计算其面积，采用命令模式实现撤销功能。</p>\\n<h2> 功能</h2>\\n<ul>\\n<li>创建标注点</li>\\n<li>创建标注点之间的连线</li>\\n<li>计算面积</li>\\n<li>撤销及清除重绘</li>\\n</ul>\\n<h2> 绘制多边形实体类代码</h2>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">// 画多边形区域类</span>\\n<span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">DrawPolygon</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token operator\\">...</span>\\n\\n  <span class=\\"token function\\">constructor</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">map<span class=\\"token punctuation\\">,</span> id</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 获取实例数据</span>\\n  <span class=\\"token function\\">getData</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 判断当前的标注点能否组成图形</span>\\n  <span class=\\"token function\\">isCanSetPolygon</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 获取第一个标注点</span>\\n  <span class=\\"token function\\">getFirstMarker</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 鼠标点击时生成标注点</span>\\n  <span class=\\"token function\\">addMarker</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">lngLat</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 满足两个点时生成折线</span>\\n  <span class=\\"token function\\">addLine</span><span class=\\"token punctuation\\">(</span>last<span class=\\"token punctuation\\">,</span> current<span class=\\"token punctuation\\">,</span> lineStyle <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"solid\\"</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 删除连线</span>\\n  <span class=\\"token function\\">removeLine</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 判断能否形成多边形</span>\\n  <span class=\\"token function\\">canCalcArea</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n\\n  <span class=\\"token comment\\">// 生成多边形并计算面积</span>\\n  <span class=\\"token function\\">addPolygon</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{n as data};
